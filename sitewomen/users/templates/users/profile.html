{% extends 'base.html' %}

{% block content %}
<h1>Профиль</h1>

<form action="" method="post" enctype="multipart/form-data">
  {% csrf_token %}
  {% if user.photo %}
  <p><img style="width: 150px; aspect-ratio: 1;" src="{{ user.photo.url }}" alt=""/></p>
  {% else %}
  <p><img style="width: 150px; aspect-ratio: 1;" src="{{ default_image }}" alt=""/></p>
  {% endif %}

  <div class="form-error">{{ form.non_field_errors }}</div>
  {% for f in form %}
  <p><label for="{{ f.id_for_label }}" class="form-label">{{ f.label }}: </label>{{ f }}</p>
  <div class="form-error">{{ f.errors }}</div>
  {% endfor %}
  <p><button type="submit">Сохранить</button></p>
</form>

<hr />
<p><a href="{% url 'users:password_change' %}">Сменить пароль</a></p>
{% endblock %}